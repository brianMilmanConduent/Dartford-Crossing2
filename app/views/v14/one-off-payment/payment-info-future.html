{% extends "layout.html" %}

{% block pageTitle %}
Pay for future crossings
{% endblock %}

{% block beforeContent %}
{% include "includes/beta-banner.html" %}
{% include "includes/back-link.html" %}
{% endblock %}

{% block content %}


<style>
     .gem-c-contextual-sidebar__brexit-cta {text-size-adjust: 100%;
    font-family: "GDS Transport",arial,sans-serif;
    margin-bottom: 30px;
    background-color: #f3f2f1;
    border-top: 2px solid #282538;
    display: block;
    padding: 0 15px 15px;
    text-decoration: none;}
</style>
<div class="govuk-grid-row">
 

  <div class="govuk-grid-column-two-thirds govuk-!-margin-top-1">
    
    <h1 class="govuk-heading-l govuk-!-margin-bottom-5">Add credit for crossings</h1>

    
    

    <form method="post" action="notifications">
    <div class="govuk-form-group">
      <label class="govuk-label" for="sort">
        Number of crossings
      </label>
      <select class="govuk-select govuk-!-width-one-quarter govuk-!-margin-bottom-1" id="sortCrossB" name="sortCrossB">
        <!-- <option value="0" selected>None</option> -->
        <option value="1"selected>1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>

      </select>
      {{ govukDetails({
        summaryText: "How many crossings do you need to pay for?",
        html: 
        "
        <ul class='govuk-list govuk-list--bullet'>
          <li>
            a crossing is a single journey over the bridge or through the tunnel
          </li>
          <li>
            a return trip is 2 crossings
          </li>
          <li>
            these payments are valid up to 12 months or till they are used
          </li>
          <li>
            only use this option for crossings made yesterday, today, or a future date
          </li>
          <li>
            late payments will be used for future crossings - you may receive a PCN for any late payment
          </li>
        </ul>
        "
      }) }} 
    </div>
    
    <div class="govuk-form-group">
      <h3 class="govuk-label-wrapper"><label class="govuk-label govuk-label--s" for="cost">
          Payment amount
        </label>
      </h3>
      <div class="govuk-input__wrapper">
        <div class="govuk-input__prefix" aria-hidden="true"><b>£</b></div>
        <input class="govuk-input govuk-input--width-5" id="chargeB" name="chargeB" type="text" spellcheck="false" value="2.50" style="font-weight:bold ;" disabled>
      </div>
    </div>
    <div class="govuk-inset-text govuk-!-padding-top-0 govuk-!-padding-bottom-0 govuk-!-margin-top-0 govuk-!-margin-bottom-9">
      <h3 class="govuk-body-xl govuk-!-margin-top-0 govuk-!-padding-top-0 govuk-!-padding-bottom-0 govuk-!-margin-bottom-0">Total amount including recent crossings</h3>
      <h1 id = "chargeTotal" class="govuk-body-xl govuk-!-margin-bottom-0 govuk-!-padding-bottom-0 govuk-!-padding-top-0 govuk-!-margin-top-0">£{{((data['krosCount']*2.50)|float + 2.50|float).toFixed(2)}}</h1>
    </div>
    
    <!-- <div class="govuk-button-group"> -->
    <button type="submit" id="confirmPay"  class="govuk-button" data-module="govuk-button">
      Continue
    </button>
   
</form>
  </div>
  

</div>
<!-- <div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h5 class="govuk-heading-m"> Registration number: {{data['vrn']}}</h5>
    {% if (data['vrn'] === 'LO61 NRO') %}
    <div class="govuk-inset-text govuk-!-margin-top-0 ">
      <p class="govuk-body"><b>{{data['vrm-1'][0]}}</b> has 1 unpaid Dartford Crossing charges.</p>
    </div>

    {% endif %}
    {% if (data['vrn'] === 'LO62 NRO') %}
    <div class="govuk-inset-text govuk-!-margin-top-0 ">
      <p class="govuk-body"><b>{{data['vrm-1'][0]}}</b> has <b>2 unpaid</b> Dartford Crossing charges.</p>
      <ul class="govuk-list govuk-list--bullet">
        <li class="govuk-boyd">Number of <b>payable</b> Dartford Crossing charges: <b>1</b></li>
        <li class="govuk-boyd">Number of Dartford Crossing charges <b>missed payment deadline: 1</b></li>
      </ul>
    </div>
    {% endif %}
    {% if (data['vrm-1'][0] === 'LO63 NRO') %}
    <div class="govuk-inset-text govuk-!-margin-top-0 ">
      <p class="govuk-body"><b>{{data['vrm-1'][0]}}</b> has no unpaid Dartford Crossing charges.</p>
    </div>
    {% endif %}
    {% if (data['vrm-1'][0] === 'LO64 NRO') %}
    <div class="govuk-inset-text govuk-!-margin-top-0 ">
      <p class="govuk-body"><b>{{data['vrm-1'][0]}}</b> has <b>1 unpaid</b> Dartford Crossing charges.</p>
      <ul class="govuk-list govuk-list--bullet">
        <li class="govuk-boyd">Number of Dartford Crossing charges <b>missed payment deadline: 1</b></li>
      </ul>
    </div>
    {% endif %}

    {% if (data['vrm-1'][0] == 'LO62 NRO') %}
    <div class="govuk-warning-text">
      <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
      <strong class="govuk-warning-text__text govuk-!-font-weight-regular">
        <span class="govuk-warning-text__assistive">Warning</span>
        We suggest you clear the payable Dartford Crossing charges first to avoid missing the payment deadline.</br>
        You can then resolve the Dartford Crossing charges which have already missed the deadline.
      </strong>
    </div>
    {% endif %}
    {% if (data['vrm-1'][0] == 'LO64 NRO') %}
    <div class="govuk-warning-text">
      <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
      <strong class="govuk-warning-text__text govuk-!-font-weight-regular">
        <span class="govuk-warning-text__assistive">Warning</span>
        You need resolve the Dartford Crossing charges which have already missed the deadline.
      </strong>
    </div>
    {% endif %}

  </div>
</div> -->
<!-- <div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    {% if (data['vrm-1'][0] === 'LO61 NRO') or (data['vrm-1'][0] === 'LO62 NRO') or (data['vrm-1'][0] === 'LO63 NRO') %}
    <table class="govuk-table payment-table">

      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-table__header">Crossings</th>
          <th scope="col" class="govuk-table__header">Number of trips</th>
          <th scope="col" class="govuk-table__header govuk-table__header--numeric">Amount</th>
        </tr>
      </thead>

      <tbody class="govuk-table__body">
        {% if (data['vrm-1'][0] === 'LO61 NRO') or (data['vrm-1'][0] === 'LO62 NRO') %}
        <tr class="govuk-table__row">
          <th scope="row" class="govuk-table__header govuk-!-padding-top-3">Payable Crossings</th>
          <td class="govuk-table__cell">
            <div class="govuk-!-padding-top-1">1</div>
            <!-- <div class="govuk-form-group select-box govuk-!-margin-bottom-0">
              <label class="govuk-label govuk-!-margin-bottom-0" for="trips">
                <select class="govuk-select govuk-!-margin-right-2 " id="sort" name="trips">
                  <option value="1" selected>1</option>
                  <option value="2" >2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                </select>
              </label>
            </div> -->
          </td>
          <td id="trip-amt" class="govuk-table__cell govuk-!-padding-top-3 govuk-table__header--numeric">£2.50</td>
        </tr>
        {% endif %}
        {% if (data['vrm-1'][0] === 'LO63 NRO') %}
        <tr class="govuk-table__row">
          <th scope="row" class="govuk-table__header govuk-!-padding-top-3">Future Crossings</th>

          <td class="govuk-table__cell">
            <div id="future-crossing-selectbox" class="govuk-form-group select-box govuk-!-margin-bottom-0">
              <label class="govuk-label govuk-!-margin-bottom-0" for="trips-future-crossing">
                <select class="govuk-select govuk-!-margin-right-2 " id="sort" name="trips-future-crossing">
                  <option value="0">0</option>
                  <option value="1" selected>1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                </select>
              </label>
            </div>
          </td>
          <td id="future-amt" class="govuk-table__cell govuk-!-padding-top-3 govuk-table__header--numeric">
            £2.50
          </td>

        </tr>
        {% endif %}
      </tbody>
    </table>
    {% endif %}
    {% if (data['vrm-1'][0] === 'LO61 NRO') or (data['vrm-1'][0] === 'LO62 NRO') %}
    <div class="govuk-!-padding-bottom-5 add-future-crossings-row">
      <a href="javascript:void(0)" class="govuk-link" role="link">Add Future Crossings</a>
    </div>
    {% endif %}
    {% if (data['vrm-1'][0] !== 'LO64 NRO') %}
    <div class="govuk-form-group ">
      <label class="govuk-label govuk-body-l govuk-!-font-weight-bold govuk-!-font-size-24" for="amount">Payment
        amount</label>

      <div class="govuk-input__wrapper govuk-grid-column-two-third">
        <div class="govuk-input__prefix govuk-!-font-weight-bold" aria-hidden="true">£</div>
        {% if (data['vrm-1'][0] === 'LO62 NRO') or (data['vrm-1'][0] === 'LO64 NRO') %}
        <input class="govuk-input govuk-!-font-weight-bold govuk-input--width-3 govuk-!-padding-left-3" id="amount"
          name="amount" value="2.50" type="number" aria-describedby="amount" spellcheck="false">
        {% else %}
        <input class="govuk-input govuk-!-font-weight-bold govuk-input--width-3 govuk-!-padding-left-3" id="amount"
          name="amount" value="2.50" type="number" aria-describedby="amount" spellcheck="false">
        {% endif %}

      </div>
    </div>
    {% endif %}
    <div class="govuk-button-group govuk-!-margin-top-6">
      {% if (data['vrm-1'][0] !== 'LO64 NRO') %}
      <button onClick="location.href='./pay-receipt-single'" class="govuk-button" data-module="govuk-button"
        role="button" aria-label="paytrips">Continue</button>
      {% else %}
      <button onClick="location.href='https://dartford-crossing-charge.herokuapp.com/demo/flow1'" class="govuk-button"
        data-module="govuk-button" role="button" aria-label="paytrips">Resolve</button>
      {% endif %}
    </div>
  </div>
</div> -->
</div>
<script>
  let listCrossingsPay = document.getElementById("listCrossingsPay").innerHTML
  document.getElementById('sortCrossB').addEventListener('change', function() {
  document.getElementById('chargeB').value=(this.value*2.50).toFixed(2);
  document.getElementById('chargeTotal').innerHTML='£'+(parseFloat(listCrossingsPay.split('£')[1])+parseFloat(document.getElementById('chargeB').value)).toFixed(2);
});

</script>

{% endblock %}
